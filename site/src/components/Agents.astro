---
const agents = [
  {
    name: 'Architecture Reviewer',
    type: 'Review',
    desc: 'Systematic compliance check against CLAUDE.md principles. Structured report with per-principle status.',
    access: 'Read-only',
  },
  {
    name: 'Coherence Auditor',
    type: 'Review',
    desc: 'Audits SPEC drift + git workflow compliance. Reports CURRENT / DRIFTED / UNDOCUMENTED / VIOLATION status.',
    access: 'Read-only',
  },
  {
    name: 'Code Reviewer',
    type: 'Review',
    desc: 'Quality, maintainability, and best practices. Focuses on significant issues, not nitpicks.',
    access: 'Read-only',
  },
  {
    name: 'Security Auditor',
    type: 'Review',
    desc: 'OWASP Top 10 focused. Severity-classified with exploit scenarios and fix recommendations.',
    access: 'Read-only',
  },
];

const skills = [
  {
    command: '/coherence',
    desc: 'Audit coherence: SPEC drift + git workflow compliance',
  },
  {
    command: '/check-architecture',
    desc: 'Compliance review of staged changes or a path',
  },
  {
    command: '/test',
    desc: 'Run tests with flexible scope control',
  },
];
---

<section id="agents">
  <div class="container">
    <div class="reveal">
      <p class="section-label">Layers 2 & 4</p>
      <h2 class="section-title">Agents & Skills</h2>
      <p class="section-desc">
        Agents are specialized personas with defined tools and output formats.
        Skills are named workflows that invoke agents and enforce process.
      </p>

      <div class="agents-grid grid-2">
        {agents.map((agent) => (
          <div class="card agent-card">
            <div class="agent-header">
              <h3>{agent.name}</h3>
              <span class="badge badge-info">{agent.access}</span>
            </div>
            <p class="agent-desc">{agent.desc}</p>
          </div>
        ))}
      </div>

      <h3 class="skills-title">Included Skills</h3>
      <div class="skills-list">
        {skills.map((skill) => (
          <div class="skill-item">
            <code class="skill-cmd">{skill.command}</code>
            <span class="skill-desc">{skill.desc}</span>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .agent-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.75rem;
  }

  .agent-header h3 {
    font-size: 1.1rem;
  }

  .agent-desc {
    color: var(--text-secondary);
    font-size: 0.95rem;
  }

  .skills-title {
    margin-top: 3rem;
    margin-bottom: 1.5rem;
    color: var(--cyan);
  }

  .skills-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    max-width: 600px;
  }

  .skill-item {
    display: flex;
    align-items: baseline;
    gap: 1rem;
    padding: 0.75rem 1rem;
    background: var(--bg-mid);
    border-radius: var(--radius-sm);
    border: 1px solid var(--bg-surface);
  }

  .skill-cmd {
    font-size: 0.9rem;
    white-space: nowrap;
    color: var(--green);
    background: none;
    padding: 0;
  }

  .skill-desc {
    color: var(--text-secondary);
    font-size: 0.9rem;
  }
</style>
